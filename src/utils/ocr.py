# import ddddocr
# ocr = ddddocr.DdddOcr()
#
# res = ocr.classification('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')
# print(res)
import json

import requests


def call(imageBase64):
    response = requests.post('https://api.yescaptcha.com/createTask', headers={
        'Content-Type': 'application/json;charset=UTF-8',
    }, data=json.dumps({
        "clientKey": "c906649f7851ec945cf0e9696ae644681f5b940132074",
        "task":
            {
                "type": "ImageToTextTaskM1",
                "body": imageBase64
                # base64编码后的图片
            }
    }))
    while True:
        result = requests.post('https://api.yescaptcha.com/getTaskResult', headers={
            'Content-Type': 'application/json;charset=UTF-8',
        }, data=json.dumps({
            "clientKey": "c906649f7851ec945cf0e9696ae644681f5b940132074",
            "taskId": response.json()['taskId']
        }))
        if result.json()['status'].__eq__('ready'):
            return result.json()['solution']['text']

if __name__ == '__main__':
    print(call(
        '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'))
